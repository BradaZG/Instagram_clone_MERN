(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(1),i=n(21),r=n.n(i),o=(n(29),n(3)),s=n(5),l=Object(a.createContext)(),d="USER",u="CLEAR",j="UPDATE",h="UPDATE_PICTURE",p=function(){var e=Object(a.useContext)(l),t=e.state,n=e.dispatch,i=Object(o.f)();return Object(c.jsx)("nav",{children:Object(c.jsxs)("div",{className:"nav-wrapper white",children:[Object(c.jsx)(s.b,{to:t?"/":"/signin",className:"brand-logo left",children:"Instagram"}),Object(c.jsx)("ul",{id:"nav-mobile",className:"right",children:t?[Object(c.jsx)("li",{children:Object(c.jsx)(s.b,{to:"/profile",children:"Profile"})}),Object(c.jsx)("li",{children:Object(c.jsx)(s.b,{to:"/create",children:"Create Post"})}),Object(c.jsx)("li",{children:Object(c.jsx)(s.b,{to:"/subscribedusersposts",children:"Following"})}),Object(c.jsx)("li",{children:Object(c.jsx)("button",{className:"btn #c62828 red darken-3",type:"submit",onClick:function(){localStorage.clear(),n({type:u}),i.push("/signin")},children:"LOGOUT"})})]:[Object(c.jsx)("li",{children:Object(c.jsx)(s.b,{to:"/signin",children:"SignIn"})}),Object(c.jsx)("li",{children:Object(c.jsx)(s.b,{to:"/signup",children:"SignUp"})})]})]})})},f=(n(34),n(2)),b=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),o=Object(f.a)(r,2),d=o[0],u=o[1],j=Object(a.useContext)(l),h=j.state;j.dispatch;Object(a.useEffect)((function(){fetch("/allposts",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){i(e.posts)}))}),[]);return Object(c.jsx)("div",{className:"home",children:n&&n.map((function(e){return Object(c.jsxs)("div",{className:"card home-card",children:[Object(c.jsxs)("h5",{style:{padding:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0",marginTop:"0"},children:[Object(c.jsx)(s.b,{to:e.postedBy._id!==h._id?"/profile/".concat(e.postedBy._id):"/profile",children:Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)("img",{className:"profile__picture",src:e.postedBy.profilePicture,alt:e.postedBy.name}),e.postedBy.name]})}),e.postedBy._id===h._id&&Object(c.jsx)("i",{className:"material-icons",onClick:function(){return t=e._id,void fetch("/deletepost/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){var t=n.filter((function(t){return t._id!==e._id}));i(t)}));var t},children:"delete"})]}),Object(c.jsx)("div",{className:"card-image",children:Object(c.jsx)("img",{src:e.photo,alt:e.title})}),Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("i",{className:"material-icons",style:{color:"red"},children:"favorite"}),e.likes.includes(h._id)?Object(c.jsx)("i",{className:"material-icons",onClick:function(){return t=e._id,void fetch("/unlike",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));i(t)})).catch((function(e){return console.log(e)}));var t},children:"thumb_down"}):Object(c.jsx)("i",{className:"material-icons",onClick:function(){return t=e._id,void fetch("/like",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));i(t)})).catch((function(e){return console.log(e)}));var t},children:"thumb_up"}),Object(c.jsxs)("h6",{children:[e.likes.length," likes"]}),Object(c.jsx)("h6",{children:e.title}),Object(c.jsx)("p",{children:e.body}),e.comments.map((function(t){return Object(c.jsxs)("h6",{children:[Object(c.jsx)("span",{style:{fontWeight:"500"},children:t.postedBy.name})," ",t.text,t.postedBy._id===h._id&&Object(c.jsx)("i",{style:{float:"right"},className:"material-icons",onClick:function(){return c=t._id,a=e._id,void fetch("/deletecomment",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({commentId:c,postId:a})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));i(t)})).catch((function(e){return console.log(e)}));var c,a},children:"delete"})]},t._id)})),Object(c.jsx)("form",{className:"input-field",onSubmit:function(t){var c,a;t.preventDefault(),c=t.target[0].value,a=e._id,fetch("/comment",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:a,text:c})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));i(t)})).catch((function(e){return console.log(e)})),u("")},children:Object(c.jsx)("input",{type:"text",value:d,placeholder:"Add a comment...",onChange:function(e){return u(e.target.value)}})})]})]},e._id)}))})},m=n(4),O=n.n(m),g=function(){var e=Object(a.useContext)(l),t=(e.state,e.dispatch),n=Object(o.f)(),i=Object(a.useState)(""),r=Object(f.a)(i,2),d=r[0],u=r[1],j=Object(a.useState)(""),h=Object(f.a)(j,2),p=h[0],b=h[1];return Object(c.jsx)("form",{className:"card__container",children:Object(c.jsxs)("div",{className:"card auth__card input-field",children:[Object(c.jsx)("h2",{children:"Instagram"}),Object(c.jsx)("input",{type:"email",value:d,placeholder:"Enter email",onChange:function(e){return u(e.target.value)}}),Object(c.jsx)("input",{type:"password",value:p,placeholder:"Enter password",onChange:function(e){return b(e.target.value)}}),Object(c.jsx)("button",{className:"btn #64b5f6 blue darken-1",type:"submit",onClick:function(e){e.preventDefault(),fetch("/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:p})}).then((function(e){return e.json()})).then((function(e){Array.isArray(e.error)?e.error.map((function(e){return O.a.toast({html:e.msg,classes:"#c62828 red darken-3"})})):e.error?O.a.toast({html:e.error,classes:"#c62828 red darken-3"}):(localStorage.setItem("jwt",e.token),localStorage.setItem("user",JSON.stringify(e.user)),t({type:"USER",payload:e.user}),O.a.toast({html:"Signed in!",classes:"#43a047 green darken-1"}),n.push("/"))})).catch((function(e){return console.log(e)}))},children:"SIGN IN"}),Object(c.jsx)("h6",{children:Object(c.jsx)(s.b,{to:"/signup",children:"Don't have an account?"})})]})})},x=function(){var e=Object(o.f)(),t=Object(a.useState)(""),n=Object(f.a)(t,2),i=n[0],r=n[1],l=Object(a.useState)(""),d=Object(f.a)(l,2),u=d[0],j=d[1],h=Object(a.useState)(""),p=Object(f.a)(h,2),b=p[0],m=p[1],g=Object(a.useState)(""),x=Object(f.a)(g,2),y=x[0],v=x[1],w=Object(a.useState)(void 0),_=Object(f.a)(w,2),S=_[0],N=_[1];Object(a.useEffect)((function(){S&&C()}),[S]);var C=function(){fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i,email:u,password:b,profilePicture:S})}).then((function(e){return e.json()})).then((function(t){t.error?t.error.map((function(e){return O.a.toast({html:e.msg,classes:"#c62828 red darken-3"})})):(O.a.Toast.dismissAll(),O.a.toast({html:t.msg,classes:"#43a047 green darken-1"}),e.push("/signin"))})).catch((function(e){return console.log(e)}))},I=function(){y?function(){var e=new FormData;e.append("file",y),e.append("upload_preset","Instagram-clone"),e.append("cloud_name","bradazg"),O.a.toast({html:"Uploading image. Please wait...",classes:"#43a047 green darken-1",displayLength:1/0}),fetch("https://api.cloudinary.com/v1_1/bradazg/image/upload",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){N(e.url)})).catch((function(e){return console.log(e)}))}():C()};return Object(c.jsx)("form",{className:"card__container",children:Object(c.jsxs)("div",{className:"card auth__card input-field",children:[Object(c.jsx)("h2",{children:"Instagram"}),Object(c.jsx)("input",{type:"text",value:i,placeholder:"Enter name",onChange:function(e){return r(e.target.value)}}),Object(c.jsx)("input",{type:"email",value:u,placeholder:"Enter email",onChange:function(e){return j(e.target.value)}}),Object(c.jsx)("input",{type:"password",value:b,placeholder:"Enter password",onChange:function(e){return m(e.target.value)}}),Object(c.jsxs)("div",{className:"file-field input-field",children:[Object(c.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(c.jsx)("span",{children:"Upload Profile Picture"}),Object(c.jsx)("input",{type:"file",onChange:function(e){v(e.target.files[0])}})]}),Object(c.jsx)("div",{className:"file-path-wrapper input-field",children:Object(c.jsx)("input",{className:"file-path validate",type:"text"})})]}),Object(c.jsx)("button",{className:"btn #64b5f6 blue darken-1",type:"submit",onClick:function(e){e.preventDefault(),I()},children:"SIGN UP"}),Object(c.jsx)("h6",{children:Object(c.jsx)(s.b,{to:"/signin",children:"Already have an account?"})})]})})},y=n(7),v=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),o=Object(f.a)(r,2),s=o[0],d=o[1],u=Object(a.useContext)(l),j=u.state,p=u.dispatch;Object(a.useEffect)((function(){fetch("/myposts",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){return i(e.myPosts)}))}),[]),Object(a.useEffect)((function(){if(s){var e=new FormData;e.append("file",s),e.append("upload_preset","Instagram-clone"),e.append("cloud_name","bradazg"),O.a.toast({html:"Uploading image. Please wait...",classes:"#43a047 green darken-1",displayLength:1/0}),fetch("https://api.cloudinary.com/v1_1/bradazg/image/upload",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){fetch("/updatepicture",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({profilePicture:e.url})}).then((function(e){return e.json()})).then((function(e){O.a.Toast.dismissAll(),localStorage.setItem("user",JSON.stringify(Object(y.a)(Object(y.a)({},j),{},{profilePicture:e.profilePicture}))),p({type:h,payload:e.profilePicture}),O.a.toast({html:"Picture updated!",classes:"#43a047 green darken-1"})}))})).catch((function(e){return console.log(e)}))}}),[s]);return Object(c.jsxs)("div",{style:{maxWidth:"550px",margin:"0px auto"},children:[Object(c.jsxs)("div",{style:{margin:"18px 0px",borderBottom:"1px solid grey",display:"flex",flexDirection:"column"},children:[Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-around"},children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:j&&j.profilePicture,alt:j&&j.name,style:{width:"160px",height:"160px",borderRadius:"80px"}})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:j?j.name:"Loading..."}),Object(c.jsx)("h5",{children:j?j.email:"Loading..."}),Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"108%"},children:[Object(c.jsxs)("h6",{children:[n.length," posts"]}),Object(c.jsxs)("h6",{children:[j?j.followers.length:0," followers"]}),Object(c.jsxs)("h6",{children:[j?j.following.length:0," following"]})]})]})]}),Object(c.jsxs)("div",{className:"file-field input-field",style:{marginTop:"5px",marginBottom:"5px"},children:[Object(c.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(c.jsx)("span",{children:"UPDATE PICTURE"}),Object(c.jsx)("input",{type:"file",onChange:function(e){var t;t=e.target.files[0],d(t)}})]}),Object(c.jsx)("div",{className:"file-path-wrapper input-field",style:{marginTop:"0",marginBottom:"0"},children:Object(c.jsx)("input",{className:"file-path validate",type:"text"})})]})]}),Object(c.jsx)("div",{className:"gallery",children:n.map((function(e){return Object(c.jsx)("img",{className:"item",src:e.photo,alt:e.title,style:{width:"160px",height:"160px"}},e._id)}))})]})},w=function(){var e=Object(o.f)(),t=Object(a.useState)(""),n=Object(f.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(""),l=Object(f.a)(s,2),d=l[0],u=l[1],j=Object(a.useState)(""),h=Object(f.a)(j,2),p=h[0],b=h[1],m=Object(a.useState)(""),g=Object(f.a)(m,2),x=g[0],y=g[1];Object(a.useEffect)((function(){x&&fetch("/createpost",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({title:i,body:d,photo:x})}).then((function(e){return e.json()})).then((function(t){Array.isArray(t.error)?t.error.map((function(e){return O.a.toast({html:e.msg,classes:"#c62828 red darken-3"})})):t.error?O.a.toast({html:t.error,classes:"#c62828 red darken-3"}):(O.a.Toast.dismissAll(),O.a.toast({html:"Post created successfully!",classes:"#43a047 green darken-1"}),e.push("/"))})).catch((function(e){console.log(e)}))}),[x,i,d,e]);return Object(c.jsxs)("form",{className:"card input-field",style:{margin:"30px auto",maxWidth:"500px",padding:"20px",textAlign:"center"},children:[Object(c.jsx)("input",{type:"text",placeholder:"Title",value:i,onChange:function(e){return r(e.target.value)}}),Object(c.jsx)("input",{type:"text",placeholder:"Body",value:d,onChange:function(e){return u(e.target.value)}}),Object(c.jsxs)("div",{className:"file-field input-field",children:[Object(c.jsxs)("div",{className:"btn #64b5f6 blue darken-1",children:[Object(c.jsx)("span",{children:"Upload Image"}),Object(c.jsx)("input",{type:"file",onChange:function(e){b(e.target.files[0])}})]}),Object(c.jsx)("div",{className:"file-path-wrapper input-field",children:Object(c.jsx)("input",{className:"file-path validate",type:"text"})})]}),Object(c.jsx)("button",{className:"btn #64b5f6 blue darken-1",onClick:function(e){e.preventDefault(),function(){if(i&&d&&p){var e=new FormData;e.append("file",p),e.append("upload_preset","Instagram-clone"),e.append("cloud_name","bradazg"),O.a.toast({html:"Uploading image. Please wait...",classes:"#43a047 green darken-1",displayLength:1/0}),fetch("https://api.cloudinary.com/v1_1/bradazg/image/upload",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){y(e.url)})).catch((function(e){return console.log(e)}))}else O.a.toast({html:"All fields are required...",classes:"#c62828 red darken-3"})}()},children:"Submit post"})]})},_=n(23),S=function(){var e=Object(a.useState)(null),t=Object(f.a)(e,2),n=t[0],i=t[1],r=Object(a.useContext)(l),s=r.state,d=r.dispatch,u=Object(o.g)().userId,h=Object(a.useState)(!s||!s.following.includes(u)),p=Object(f.a)(h,2),b=p[0],m=p[1];Object(a.useEffect)((function(){fetch("/user/".concat(u),{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){i(e),m(!s||!s.following.includes(u))}))}),[u,s]);return Object(c.jsx)(c.Fragment,{children:n?Object(c.jsxs)("div",{style:{maxWidth:"550px",margin:"0px auto"},children:[Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-around",margin:"18px 0px",borderBottom:"1px solid grey"},children:[Object(c.jsx)("div",{children:Object(c.jsx)("img",{src:n.user.profilePicture,alt:n.user.name,style:{width:"160px",height:"160px",borderRadius:"80px"}})}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:n.user.name}),Object(c.jsx)("h5",{children:n.user.email}),Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"108%"},children:[Object(c.jsxs)("h6",{children:[n.posts.length," posts"]}),Object(c.jsxs)("h6",{children:[n.user.followers.length," followers"]}),Object(c.jsxs)("h6",{children:[n.user.following.length," following"]})]}),b?Object(c.jsx)("button",{style:{margin:"10px"},className:"btn #64b5f6 blue darken-1",onClick:function(){fetch("/follow",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({followId:u})}).then((function(e){return e.json()})).then((function(e){d({type:j,payload:{following:e.following,followers:e.followers}}),localStorage.setItem("user",JSON.stringify(e)),i((function(t){return Object(y.a)(Object(y.a)({},t),{},{user:Object(y.a)(Object(y.a)({},t.user),{},{followers:[].concat(Object(_.a)(t.user.followers),[e._id])})})})),m(!1)})).catch((function(e){return console.log(e)}))},children:"FOLLOW"}):Object(c.jsx)("button",{style:{margin:"10px"},className:"btn #64b5f6 blue darken-1",onClick:function(){fetch("/unfollow",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({unfollowId:u})}).then((function(e){return e.json()})).then((function(e){d({type:j,payload:{following:e.following,followers:e.followers}}),localStorage.setItem("user",JSON.stringify(e)),i((function(t){var n=t.user.followers.filter((function(t){return t!==e._id}));return Object(y.a)(Object(y.a)({},t),{},{user:Object(y.a)(Object(y.a)({},t.user),{},{followers:n})})})),m(!0)})).catch((function(e){return console.log(e)}))},children:"UNFOLLOW"})]})]}),Object(c.jsx)("div",{className:"gallery",children:n.posts.map((function(e){return Object(c.jsx)("img",{className:"item",src:e.photo,alt:e.title,style:{width:"160px",height:"160px"}},e._id)}))})]}):Object(c.jsx)("h2",{children:"Loading..."})})},N=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(""),o=Object(f.a)(r,2),d=o[0],u=o[1],j=Object(a.useContext)(l),h=j.state;j.dispatch;Object(a.useEffect)((function(){fetch("/getsubscribedposts",{headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){i(e.posts)}))}),[]);return Object(c.jsx)("div",{className:"home",children:n&&n.map((function(e){return Object(c.jsxs)("div",{className:"card home-card",children:[Object(c.jsxs)("h5",{style:{padding:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0",marginTop:"0"},children:[Object(c.jsx)(s.b,{to:e.postedBy._id!==h._id?"/profile/".concat(e.postedBy._id):"/profile",children:Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)("img",{className:"profile__picture",src:e.postedBy.profilePicture,alt:e.postedBy.name}),e.postedBy.name]})}),e.postedBy._id===h._id&&Object(c.jsx)("i",{className:"material-icons",onClick:function(){return t=e._id,void fetch("/deletepost/".concat(t),{method:"DELETE",headers:{Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){var t=n.filter((function(t){return t._id!==e._id}));i(t)}));var t},children:"delete"})]}),Object(c.jsx)("div",{className:"card-image",children:Object(c.jsx)("img",{src:e.photo,alt:e.title})}),Object(c.jsxs)("div",{className:"card-content",children:[Object(c.jsx)("i",{className:"material-icons",style:{color:"red"},children:"favorite"}),e.likes.includes(h._id)?Object(c.jsx)("i",{className:"material-icons",onClick:function(){return t=e._id,void fetch("/unlike",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));i(t)})).catch((function(e){return console.log(e)}));var t},children:"thumb_down"}):Object(c.jsx)("i",{className:"material-icons",onClick:function(){return t=e._id,void fetch("/like",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));i(t)})).catch((function(e){return console.log(e)}));var t},children:"thumb_up"}),Object(c.jsxs)("h6",{children:[e.likes.length," likes"]}),Object(c.jsx)("h6",{children:e.title}),Object(c.jsx)("p",{children:e.body}),e.comments.map((function(t){return Object(c.jsxs)("h6",{children:[Object(c.jsx)("span",{style:{fontWeight:"500"},children:t.postedBy.name})," ",t.text,t.postedBy._id===h._id&&Object(c.jsx)("i",{style:{float:"right"},className:"material-icons",onClick:function(){return c=t._id,a=e._id,void fetch("/deletecomment",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({commentId:c,postId:a})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));i(t)})).catch((function(e){return console.log(e)}));var c,a},children:"delete"})]},t._id)})),Object(c.jsx)("form",{className:"input-field",onSubmit:function(t){var c,a;t.preventDefault(),c=t.target[0].value,a=e._id,fetch("/comment",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:JSON.stringify({postId:a,text:c})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id===e._id?e:t}));i(t)})).catch((function(e){return console.log(e)})),u("")},children:Object(c.jsx)("input",{type:"text",value:d,placeholder:"Add a comment...",onChange:function(e){return u(e.target.value)}})})]})]},e._id)}))})},C=function(){var e=Object(o.f)(),t=Object(a.useContext)(l),n=(t.state,t.dispatch);return Object(a.useEffect)((function(){var t=JSON.parse(localStorage.getItem("user"));t?n({type:d,payload:t}):e.push("/signin")}),[e,n]),Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:"/",exact:!0,component:b}),Object(c.jsx)(o.a,{path:"/signin",exact:!0,component:g}),Object(c.jsx)(o.a,{path:"/signup",exact:!0,component:x}),Object(c.jsx)(o.a,{path:"/profile",exact:!0,component:v}),Object(c.jsx)(o.a,{path:"/create",exact:!0,component:w}),Object(c.jsx)(o.a,{path:"/profile/:userId",exact:!0,component:S}),Object(c.jsx)(o.a,{path:"/subscribedusersposts",exact:!0,component:N})]})};var I=function(){return Object(c.jsxs)(s.a,{children:[Object(c.jsx)(p,{}),Object(c.jsx)(C,{})]})},T=function(e,t){switch(t.type){case d:return t.payload;case u:return null;case j:return Object(y.a)(Object(y.a)({},e),{},{followers:t.payload.followers,following:t.payload.following});case h:return Object(y.a)(Object(y.a)({},e),{},{profilePicture:t.payload});default:return e}},k=function(e){var t=Object(a.useReducer)(T,null),n=Object(f.a)(t,2),i=n[0],r=n[1];return Object(c.jsx)(l.Provider,{value:{state:i,dispatch:r},children:e.children})};r.a.render(Object(c.jsx)(k,{children:Object(c.jsx)(I,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.33618e65.chunk.js.map