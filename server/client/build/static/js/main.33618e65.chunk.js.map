{"version":3,"sources":["context/userContext.js","context/userTypes.js","components/Navbar.js","components/screens/Home.js","components/screens/SignIn.js","components/screens/SignUp.js","components/screens/Profile.js","components/screens/CreatePost.js","components/screens/UserProfile.js","components/screens/SubscribedUserPosts.js","App.js","context/userReducer.js","context/UserState.js","index.js"],"names":["UserContext","createContext","USER","CLEAR","UPDATE","UPDATE_PICTURE","Navbar","useContext","state","dispatch","history","useHistory","className","to","id","type","onClick","localStorage","clear","push","Home","useState","data","setData","comment","setComment","useEffect","fetch","headers","Authorization","getItem","then","res","json","result","posts","map","item","style","padding","display","justifyContent","alignItems","marginBottom","marginTop","postedBy","_id","src","profilePicture","alt","name","postId","method","newData","filter","photo","title","color","likes","includes","body","JSON","stringify","catch","err","console","log","length","comments","fontWeight","text","float","commentId","onSubmit","e","preventDefault","target","value","placeholder","onChange","SignIn","email","setEmail","password","setPassword","Array","isArray","error","M","toast","html","msg","classes","setItem","token","user","payload","SignUp","setName","image","setImage","undefined","url","setUrl","uploadFields","Toast","dismissAll","postData","imageData","FormData","append","displayLength","Infinity","uploadProfilePicture","files","Profile","myPics","setMyPics","myPosts","maxWidth","margin","borderBottom","flexDirection","width","height","borderRadius","followers","following","file","CreatePost","setTitle","setBody","textAlign","postDetails","UserProfile","userProfile","setUserProfile","userId","useParams","showFollow","setShowFollow","followId","prevState","unfollowId","newFollowers","SubscribedUserPosts","Routing","parse","path","exact","component","App","UserReducer","action","UserState","props","useReducer","Provider","children","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.33618e65.chunk.js","sourcesContent":["import { createContext } from 'react';\r\n\r\nconst UserContext = createContext();\r\n\r\nexport default UserContext;\r\n","export const USER = 'USER';\r\nexport const CLEAR = 'CLEAR';\r\nexport const UPDATE = 'UPDATE';\r\nexport const UPDATE_PICTURE = 'UPDATE_PICTURE';\r\n","import React, { useContext } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport UserContext from '../context/userContext';\r\nimport { CLEAR } from '../context/userTypes';\r\n\r\nconst Navbar = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n\r\n  const renderList = () => {\r\n    if (state) {\r\n      return [\r\n        <li>\r\n          <Link to='/profile'>Profile</Link>\r\n        </li>,\r\n        <li>\r\n          <Link to='/create'>Create Post</Link>\r\n        </li>,\r\n        <li>\r\n          <Link to='/subscribedusersposts'>Following</Link>\r\n        </li>,\r\n        <li>\r\n          <button\r\n            className='btn #c62828 red darken-3'\r\n            type='submit'\r\n            onClick={() => {\r\n              localStorage.clear();\r\n              dispatch({ type: CLEAR });\r\n              history.push('/signin');\r\n            }}\r\n          >\r\n            LOGOUT\r\n          </button>\r\n        </li>,\r\n      ];\r\n    } else {\r\n      return [\r\n        <li>\r\n          <Link to='/signin'>SignIn</Link>\r\n        </li>,\r\n        <li>\r\n          <Link to='/signup'>SignUp</Link>\r\n        </li>,\r\n      ];\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav>\r\n      <div className='nav-wrapper white'>\r\n        <Link to={state ? '/' : '/signin'} className='brand-logo left'>\r\n          Instagram\r\n        </Link>\r\n        <ul id='nav-mobile' className='right'>\r\n          {renderList()}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport UserContext from '../../context/userContext';\r\n\r\nconst Home = () => {\r\n  const [data, setData] = useState([]);\r\n  const [comment, setComment] = useState('');\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetch('/allposts', {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n\r\n  const likePost = (id) => {\r\n    fetch('/like', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const unlikePost = (id) => {\r\n    fetch('/unlike', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const makeComment = (text, postId) => {\r\n    fetch('/comment', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: postId,\r\n        text: text,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const deletePost = (postId) => {\r\n    fetch(`/deletepost/${postId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.filter((item) => item._id !== result._id);\r\n        setData(newData);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (commentId, postId) => {\r\n    fetch('/deletecomment', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: commentId,\r\n        postId: postId,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className='home'>\r\n      {data &&\r\n        data.map((item) => {\r\n          return (\r\n            <div key={item._id} className='card home-card'>\r\n              <h5\r\n                style={{\r\n                  padding: '8px',\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center',\r\n                  marginBottom: '0',\r\n                  marginTop: '0',\r\n                }}\r\n              >\r\n                <Link\r\n                  to={\r\n                    item.postedBy._id !== state._id\r\n                      ? `/profile/${item.postedBy._id}`\r\n                      : '/profile'\r\n                  }\r\n                >\r\n                  <div style={{ display: 'flex' }}>\r\n                    <img\r\n                      className='profile__picture'\r\n                      src={item.postedBy.profilePicture}\r\n                      alt={item.postedBy.name}\r\n                    />\r\n                    {item.postedBy.name}\r\n                  </div>\r\n                </Link>\r\n                {item.postedBy._id === state._id && (\r\n                  <i\r\n                    className='material-icons'\r\n                    onClick={() => deletePost(item._id)}\r\n                  >\r\n                    delete\r\n                  </i>\r\n                )}\r\n              </h5>\r\n              <div className='card-image'>\r\n                <img src={item.photo} alt={item.title} />\r\n              </div>\r\n              <div className='card-content'>\r\n                <i className='material-icons' style={{ color: 'red' }}>\r\n                  favorite\r\n                </i>\r\n                {item.likes.includes(state._id) ? (\r\n                  <i\r\n                    className='material-icons'\r\n                    onClick={() => unlikePost(item._id)}\r\n                  >\r\n                    thumb_down\r\n                  </i>\r\n                ) : (\r\n                  <i\r\n                    className='material-icons'\r\n                    onClick={() => likePost(item._id)}\r\n                  >\r\n                    thumb_up\r\n                  </i>\r\n                )}\r\n                <h6>{item.likes.length} likes</h6>\r\n                <h6>{item.title}</h6>\r\n                <p>{item.body}</p>\r\n                {item.comments.map((comment) => (\r\n                  <h6 key={comment._id}>\r\n                    <span style={{ fontWeight: '500' }}>\r\n                      {comment.postedBy.name}\r\n                    </span>{' '}\r\n                    {comment.text}\r\n                    {comment.postedBy._id === state._id && (\r\n                      <i\r\n                        style={{ float: 'right' }}\r\n                        className='material-icons'\r\n                        onClick={() => deleteComment(comment._id, item._id)}\r\n                      >\r\n                        delete\r\n                      </i>\r\n                    )}\r\n                  </h6>\r\n                ))}\r\n                <form\r\n                  className='input-field'\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    makeComment(e.target[0].value, item._id);\r\n                    setComment('');\r\n                  }}\r\n                >\r\n                  <input\r\n                    type='text'\r\n                    value={comment}\r\n                    placeholder='Add a comment...'\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                  />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import React, { useContext, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\nimport UserContext from '../../context/userContext';\r\n\r\nconst SignIn = () => {\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const history = useHistory();\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const postData = () => {\r\n    // if (\r\n    //   !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n    //     email\r\n    //   )\r\n    // ) {\r\n    //   M.toast({ html: 'Invalid email', classes: '#c62828 red darken-3' });\r\n    //   return;\r\n    // }\r\n\r\n    fetch('/signin', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (Array.isArray(data.error)) {\r\n          data.error.map((error) =>\r\n            M.toast({ html: error.msg, classes: '#c62828 red darken-3' })\r\n          );\r\n        } else if (data.error) {\r\n          M.toast({ html: data.error, classes: '#c62828 red darken-3' });\r\n        } else {\r\n          localStorage.setItem('jwt', data.token);\r\n          localStorage.setItem('user', JSON.stringify(data.user));\r\n          dispatch({ type: 'USER', payload: data.user });\r\n          M.toast({ html: 'Signed in!', classes: '#43a047 green darken-1' });\r\n          history.push('/');\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <form className='card__container'>\r\n      <div className='card auth__card input-field'>\r\n        <h2>Instagram</h2>\r\n        <input\r\n          type='email'\r\n          value={email}\r\n          placeholder='Enter email'\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type='password'\r\n          value={password}\r\n          placeholder='Enter password'\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <button\r\n          className='btn #64b5f6 blue darken-1'\r\n          type='submit'\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            postData();\r\n          }}\r\n        >\r\n          SIGN IN\r\n        </button>\r\n        <h6>\r\n          <Link to='/signup'>Don't have an account?</Link>\r\n        </h6>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\n\r\nconst SignUp = () => {\r\n  const history = useHistory();\r\n  const [name, setName] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [url, setUrl] = useState(undefined);\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      uploadFields();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [url]);\r\n\r\n  const uploadProfilePicture = () => {\r\n    const imageData = new FormData();\r\n    imageData.append('file', image);\r\n    imageData.append('upload_preset', 'Instagram-clone');\r\n    imageData.append('cloud_name', 'bradazg');\r\n    M.toast({\r\n      html: 'Uploading image. Please wait...',\r\n      classes: '#43a047 green darken-1',\r\n      displayLength: Infinity,\r\n    });\r\n    fetch('https://api.cloudinary.com/v1_1/bradazg/image/upload', {\r\n      method: 'POST',\r\n      body: imageData,\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setUrl(data.url);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const uploadFields = () => {\r\n    fetch('/signup', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        email,\r\n        password,\r\n        profilePicture: url,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        if (data.error) {\r\n          data.error.map((error) =>\r\n            M.toast({ html: error.msg, classes: '#c62828 red darken-3' })\r\n          );\r\n        } else {\r\n          M.Toast.dismissAll();\r\n          M.toast({ html: data.msg, classes: '#43a047 green darken-1' });\r\n          history.push('/signin');\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const postData = () => {\r\n    // if (\r\n    //   !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(\r\n    //     email\r\n    //   )\r\n    // ) {\r\n    //   M.toast({ html: 'Invalid email', classes: '#c62828 red darken-3' });\r\n    //   return;\r\n    // }\r\n    if (image) {\r\n      uploadProfilePicture();\r\n    } else {\r\n      uploadFields();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className='card__container'>\r\n      <div className='card auth__card input-field'>\r\n        <h2>Instagram</h2>\r\n        <input\r\n          type='text'\r\n          value={name}\r\n          placeholder='Enter name'\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n        <input\r\n          type='email'\r\n          value={email}\r\n          placeholder='Enter email'\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n        <input\r\n          type='password'\r\n          value={password}\r\n          placeholder='Enter password'\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n        <div className='file-field input-field'>\r\n          <div className='btn #64b5f6 blue darken-1'>\r\n            <span>Upload Profile Picture</span>\r\n            <input\r\n              type='file'\r\n              onChange={(e) => {\r\n                setImage(e.target.files[0]);\r\n              }}\r\n            />\r\n          </div>\r\n          <div className='file-path-wrapper input-field'>\r\n            <input className='file-path validate' type='text' />\r\n          </div>\r\n        </div>\r\n        <button\r\n          className='btn #64b5f6 blue darken-1'\r\n          type='submit'\r\n          onClick={(e) => {\r\n            e.preventDefault();\r\n            postData();\r\n          }}\r\n        >\r\n          SIGN UP\r\n        </button>\r\n        <h6>\r\n          <Link to='/signin'>Already have an account?</Link>\r\n        </h6>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport UserContext from '../../context/userContext';\r\nimport M from 'materialize-css';\r\nimport { UPDATE_PICTURE } from '../../context/userTypes';\r\n\r\nconst Profile = () => {\r\n  const [myPics, setMyPics] = useState([]);\r\n  const [image, setImage] = useState('');\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetch('/myposts', {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => setMyPics(result.myPosts));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (image) {\r\n      const imageData = new FormData();\r\n      imageData.append('file', image);\r\n      imageData.append('upload_preset', 'Instagram-clone');\r\n      imageData.append('cloud_name', 'bradazg');\r\n      M.toast({\r\n        html: 'Uploading image. Please wait...',\r\n        classes: '#43a047 green darken-1',\r\n        displayLength: Infinity,\r\n      });\r\n      fetch('https://api.cloudinary.com/v1_1/bradazg/image/upload', {\r\n        method: 'POST',\r\n        body: imageData,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          fetch('/updatepicture', {\r\n            method: 'PUT',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n            },\r\n            body: JSON.stringify({\r\n              profilePicture: data.url,\r\n            }),\r\n          })\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n              M.Toast.dismissAll();\r\n              localStorage.setItem(\r\n                'user',\r\n                JSON.stringify({\r\n                  ...state,\r\n                  profilePicture: result.profilePicture,\r\n                })\r\n              );\r\n              dispatch({\r\n                type: UPDATE_PICTURE,\r\n                payload: result.profilePicture,\r\n              });\r\n              M.toast({\r\n                html: 'Picture updated!',\r\n                classes: '#43a047 green darken-1',\r\n              });\r\n            });\r\n        })\r\n        .catch((err) => console.log(err));\r\n    }\r\n  }, [image]);\r\n\r\n  const updatePhoto = (file) => {\r\n    setImage(file);\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: '550px', margin: '0px auto' }}>\r\n      <div\r\n        style={{\r\n          margin: '18px 0px',\r\n          borderBottom: '1px solid grey',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n        }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: 'flex',\r\n            justifyContent: 'space-around',\r\n          }}\r\n        >\r\n          <div>\r\n            <img\r\n              src={state && state.profilePicture}\r\n              alt={state && state.name}\r\n              style={{ width: '160px', height: '160px', borderRadius: '80px' }}\r\n            />\r\n          </div>\r\n          <div>\r\n            <h4>{state ? state.name : 'Loading...'}</h4>\r\n            <h5>{state ? state.email : 'Loading...'}</h5>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                justifyContent: 'space-between',\r\n                width: '108%',\r\n              }}\r\n            >\r\n              <h6>{myPics.length} posts</h6>\r\n              <h6>{state ? state.followers.length : 0} followers</h6>\r\n              <h6>{state ? state.following.length : 0} following</h6>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div\r\n          className='file-field input-field'\r\n          style={{ marginTop: '5px', marginBottom: '5px' }}\r\n        >\r\n          <div className='btn #64b5f6 blue darken-1'>\r\n            <span>UPDATE PICTURE</span>\r\n            <input\r\n              type='file'\r\n              onChange={(e) => {\r\n                updatePhoto(e.target.files[0]);\r\n              }}\r\n            />\r\n          </div>\r\n          <div\r\n            className='file-path-wrapper input-field'\r\n            style={{ marginTop: '0', marginBottom: '0' }}\r\n          >\r\n            <input className='file-path validate' type='text' />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='gallery'>\r\n        {myPics.map((item) => (\r\n          <img\r\n            key={item._id}\r\n            className='item'\r\n            src={item.photo}\r\n            alt={item.title}\r\n            style={{ width: '160px', height: '160px' }}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport M from 'materialize-css';\r\n\r\nconst CreatePost = () => {\r\n  const history = useHistory();\r\n  const [title, setTitle] = useState('');\r\n  const [body, setBody] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [url, setUrl] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (url) {\r\n      fetch('/createpost', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n        },\r\n        body: JSON.stringify({\r\n          title,\r\n          body,\r\n          photo: url,\r\n        }),\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          if (Array.isArray(data.error)) {\r\n            data.error.map((error) =>\r\n              M.toast({ html: error.msg, classes: '#c62828 red darken-3' })\r\n            );\r\n          } else if (data.error) {\r\n            M.toast({ html: data.error, classes: '#c62828 red darken-3' });\r\n          } else {\r\n            M.Toast.dismissAll();\r\n            M.toast({\r\n              html: 'Post created successfully!',\r\n              classes: '#43a047 green darken-1',\r\n            });\r\n            history.push('/');\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    }\r\n  }, [url, title, body, history]);\r\n\r\n  const postDetails = () => {\r\n    if (title && body && image) {\r\n      const imageData = new FormData();\r\n      imageData.append('file', image);\r\n      imageData.append('upload_preset', 'Instagram-clone');\r\n      imageData.append('cloud_name', 'bradazg');\r\n      M.toast({\r\n        html: 'Uploading image. Please wait...',\r\n        classes: '#43a047 green darken-1',\r\n        displayLength: Infinity,\r\n      });\r\n      fetch('https://api.cloudinary.com/v1_1/bradazg/image/upload', {\r\n        method: 'POST',\r\n        body: imageData,\r\n      })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n          setUrl(data.url);\r\n        })\r\n        .catch((err) => console.log(err));\r\n    } else {\r\n      M.toast({\r\n        html: 'All fields are required...',\r\n        classes: '#c62828 red darken-3',\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form\r\n      className='card input-field'\r\n      style={{\r\n        margin: '30px auto',\r\n        maxWidth: '500px',\r\n        padding: '20px',\r\n        textAlign: 'center',\r\n      }}\r\n    >\r\n      <input\r\n        type='text'\r\n        placeholder='Title'\r\n        value={title}\r\n        onChange={(e) => setTitle(e.target.value)}\r\n      />\r\n      <input\r\n        type='text'\r\n        placeholder='Body'\r\n        value={body}\r\n        onChange={(e) => setBody(e.target.value)}\r\n      />\r\n      <div className='file-field input-field'>\r\n        <div className='btn #64b5f6 blue darken-1'>\r\n          <span>Upload Image</span>\r\n          <input\r\n            type='file'\r\n            onChange={(e) => {\r\n              setImage(e.target.files[0]);\r\n            }}\r\n          />\r\n        </div>\r\n        <div className='file-path-wrapper input-field'>\r\n          <input className='file-path validate' type='text' />\r\n        </div>\r\n      </div>\r\n      <button\r\n        className='btn #64b5f6 blue darken-1'\r\n        onClick={(e) => {\r\n          e.preventDefault();\r\n          postDetails();\r\n        }}\r\n      >\r\n        Submit post\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport UserContext from '../../context/userContext';\r\nimport { UPDATE } from '../../context/userTypes';\r\n\r\nconst UserProfile = () => {\r\n  const [userProfile, setUserProfile] = useState(null);\r\n  const { state, dispatch } = useContext(UserContext);\r\n  const { userId } = useParams();\r\n  const [showFollow, setShowFollow] = useState(\r\n    state ? !state.following.includes(userId) : true\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetch(`/user/${userId}`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setUserProfile(result);\r\n        setShowFollow(state ? !state.following.includes(userId) : true);\r\n      });\r\n  }, [userId, state]);\r\n\r\n  const followUser = () => {\r\n    fetch('/follow', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        followId: userId,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        dispatch({\r\n          type: UPDATE,\r\n          payload: { following: data.following, followers: data.followers },\r\n        });\r\n        localStorage.setItem('user', JSON.stringify(data));\r\n        setUserProfile((prevState) => {\r\n          return {\r\n            ...prevState,\r\n            user: {\r\n              ...prevState.user,\r\n              followers: [...prevState.user.followers, data._id],\r\n            },\r\n          };\r\n        });\r\n        setShowFollow(false);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const unfollowUser = () => {\r\n    fetch('/unfollow', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        unfollowId: userId,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        dispatch({\r\n          type: UPDATE,\r\n          payload: { following: data.following, followers: data.followers },\r\n        });\r\n        localStorage.setItem('user', JSON.stringify(data));\r\n        setUserProfile((prevState) => {\r\n          const newFollowers = prevState.user.followers.filter(\r\n            (item) => item !== data._id\r\n          );\r\n          return {\r\n            ...prevState,\r\n            user: {\r\n              ...prevState.user,\r\n              followers: newFollowers,\r\n            },\r\n          };\r\n        });\r\n        setShowFollow(true);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {userProfile ? (\r\n        <div style={{ maxWidth: '550px', margin: '0px auto' }}>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'space-around',\r\n              margin: '18px 0px',\r\n              borderBottom: '1px solid grey',\r\n            }}\r\n          >\r\n            <div>\r\n              <img\r\n                src={userProfile.user.profilePicture}\r\n                alt={userProfile.user.name}\r\n                style={{\r\n                  width: '160px',\r\n                  height: '160px',\r\n                  borderRadius: '80px',\r\n                }}\r\n              />\r\n            </div>\r\n            <div>\r\n              <h4>{userProfile.user.name}</h4>\r\n              <h5>{userProfile.user.email}</h5>\r\n              <div\r\n                style={{\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  width: '108%',\r\n                }}\r\n              >\r\n                <h6>{userProfile.posts.length} posts</h6>\r\n                <h6>{userProfile.user.followers.length} followers</h6>\r\n                <h6>{userProfile.user.following.length} following</h6>\r\n              </div>\r\n              {showFollow ? (\r\n                <button\r\n                  style={{ margin: '10px' }}\r\n                  className='btn #64b5f6 blue darken-1'\r\n                  onClick={() => followUser()}\r\n                >\r\n                  FOLLOW\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  style={{ margin: '10px' }}\r\n                  className='btn #64b5f6 blue darken-1'\r\n                  onClick={() => unfollowUser()}\r\n                >\r\n                  UNFOLLOW\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className='gallery'>\r\n            {userProfile.posts.map((item) => (\r\n              <img\r\n                key={item._id}\r\n                className='item'\r\n                src={item.photo}\r\n                alt={item.title}\r\n                style={{ width: '160px', height: '160px' }}\r\n              />\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <h2>Loading...</h2>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserProfile;\r\n","import React, { useContext, useEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport UserContext from '../../context/userContext';\r\n\r\nconst SubscribedUserPosts = () => {\r\n  const [data, setData] = useState([]);\r\n  const [comment, setComment] = useState('');\r\n  const { state, dispatch } = useContext(UserContext);\r\n\r\n  useEffect(() => {\r\n    fetch('/getsubscribedposts', {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        setData(result.posts);\r\n      });\r\n  }, []);\r\n\r\n  const likePost = (id) => {\r\n    fetch('/like', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const unlikePost = (id) => {\r\n    fetch('/unlike', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: id,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const makeComment = (text, postId) => {\r\n    fetch('/comment', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        postId: postId,\r\n        text: text,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  const deletePost = (postId) => {\r\n    fetch(`/deletepost/${postId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.filter((item) => item._id !== result._id);\r\n        setData(newData);\r\n      });\r\n  };\r\n\r\n  const deleteComment = (commentId, postId) => {\r\n    fetch('/deletecomment', {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: 'Bearer ' + localStorage.getItem('jwt'),\r\n      },\r\n      body: JSON.stringify({\r\n        commentId: commentId,\r\n        postId: postId,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        const newData = data.map((item) => {\r\n          if (item._id === result._id) {\r\n            return result;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n        setData(newData);\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <div className='home'>\r\n      {data &&\r\n        data.map((item) => {\r\n          return (\r\n            <div key={item._id} className='card home-card'>\r\n              <h5\r\n                style={{\r\n                  padding: '8px',\r\n                  display: 'flex',\r\n                  justifyContent: 'space-between',\r\n                  alignItems: 'center',\r\n                  marginBottom: '0',\r\n                  marginTop: '0',\r\n                }}\r\n              >\r\n                <Link\r\n                  to={\r\n                    item.postedBy._id !== state._id\r\n                      ? `/profile/${item.postedBy._id}`\r\n                      : '/profile'\r\n                  }\r\n                >\r\n                  <div style={{ display: 'flex' }}>\r\n                    <img\r\n                      className='profile__picture'\r\n                      src={item.postedBy.profilePicture}\r\n                      alt={item.postedBy.name}\r\n                    />\r\n                    {item.postedBy.name}\r\n                  </div>\r\n                </Link>\r\n                {item.postedBy._id === state._id && (\r\n                  <i\r\n                    className='material-icons'\r\n                    onClick={() => deletePost(item._id)}\r\n                  >\r\n                    delete\r\n                  </i>\r\n                )}\r\n              </h5>\r\n              <div className='card-image'>\r\n                <img src={item.photo} alt={item.title} />\r\n              </div>\r\n              <div className='card-content'>\r\n                <i className='material-icons' style={{ color: 'red' }}>\r\n                  favorite\r\n                </i>\r\n                {item.likes.includes(state._id) ? (\r\n                  <i\r\n                    className='material-icons'\r\n                    onClick={() => unlikePost(item._id)}\r\n                  >\r\n                    thumb_down\r\n                  </i>\r\n                ) : (\r\n                  <i\r\n                    className='material-icons'\r\n                    onClick={() => likePost(item._id)}\r\n                  >\r\n                    thumb_up\r\n                  </i>\r\n                )}\r\n                <h6>{item.likes.length} likes</h6>\r\n                <h6>{item.title}</h6>\r\n                <p>{item.body}</p>\r\n                {item.comments.map((comment) => (\r\n                  <h6 key={comment._id}>\r\n                    <span style={{ fontWeight: '500' }}>\r\n                      {comment.postedBy.name}\r\n                    </span>{' '}\r\n                    {comment.text}\r\n                    {comment.postedBy._id === state._id && (\r\n                      <i\r\n                        style={{ float: 'right' }}\r\n                        className='material-icons'\r\n                        onClick={() => deleteComment(comment._id, item._id)}\r\n                      >\r\n                        delete\r\n                      </i>\r\n                    )}\r\n                  </h6>\r\n                ))}\r\n                <form\r\n                  className='input-field'\r\n                  onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    makeComment(e.target[0].value, item._id);\r\n                    setComment('');\r\n                  }}\r\n                >\r\n                  <input\r\n                    type='text'\r\n                    value={comment}\r\n                    placeholder='Add a comment...'\r\n                    onChange={(e) => setComment(e.target.value)}\r\n                  />\r\n                </form>\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubscribedUserPosts;\r\n","import React, { useContext, useEffect } from 'react';\nimport Navbar from './components/Navbar';\nimport './App.css';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  useHistory,\n} from 'react-router-dom';\nimport Home from './components/screens/Home';\nimport SignIn from './components/screens/SignIn';\nimport SignUp from './components/screens/SignUp';\nimport Profile from './components/screens/Profile';\nimport CreatePost from './components/screens/CreatePost';\nimport UserProfile from './components/screens/UserProfile';\nimport SubscribedUserPosts from './components/screens/SubscribedUserPosts';\nimport UserContext from './context/userContext';\nimport { USER } from './context/userTypes';\n\nconst Routing = () => {\n  const history = useHistory();\n  const { state, dispatch } = useContext(UserContext);\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'));\n\n    if (user) {\n      dispatch({ type: USER, payload: user });\n    } else {\n      //if (!history.location.pathname.startsWith('/reset'))\n      history.push('/signin');\n    }\n  }, [history, dispatch]);\n\n  return (\n    <Switch>\n      <Route path='/' exact component={Home} />\n      <Route path='/signin' exact component={SignIn} />\n      <Route path='/signup' exact component={SignUp} />\n      <Route path='/profile' exact component={Profile} />\n      <Route path='/create' exact component={CreatePost} />\n      <Route path='/profile/:userId' exact component={UserProfile} />\n      <Route\n        path='/subscribedusersposts'\n        exact\n        component={SubscribedUserPosts}\n      />\n    </Switch>\n  );\n};\n\nfunction App() {\n  return (\n    <Router>\n      <Navbar />\n      <Routing />\n    </Router>\n  );\n}\n\nexport default App;\n","import { CLEAR, UPDATE, UPDATE_PICTURE, USER } from './userTypes';\r\n\r\nconst UserReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case USER:\r\n      return action.payload;\r\n    case CLEAR:\r\n      return null;\r\n    case UPDATE:\r\n      return {\r\n        ...state,\r\n        followers: action.payload.followers,\r\n        following: action.payload.following,\r\n      };\r\n    case UPDATE_PICTURE:\r\n      return { ...state, profilePicture: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default UserReducer;\r\n","import React, { useReducer } from 'react';\r\nimport UserContext from './userContext';\r\nimport UserReducer from './userReducer';\r\n\r\nconst initialState = null;\r\n\r\nconst UserState = (props) => {\r\n  const [state, dispatch] = useReducer(UserReducer, initialState);\r\n\r\n  return (\r\n    <UserContext.Provider value={{ state, dispatch }}>\r\n      {props.children}\r\n    </UserContext.Provider>\r\n  );\r\n};\r\n\r\nexport default UserState;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport UserState from './context/UserState';\n\nReactDOM.render(\n  <UserState>\n    <App />\n  </UserState>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}